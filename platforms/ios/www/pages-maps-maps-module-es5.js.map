{"version":3,"sources":["webpack:///src/app/pages/maps/maps.page.html","webpack:///src/app/pages/maps/maps.module.ts","webpack:///src/app/pages/maps/maps.page.scss","webpack:///src/app/pages/maps/maps-routing.module.ts","webpack:///src/app/pages/maps/maps.page.ts"],"names":["MapsPageModule","imports","declarations","routes","path","component","MapsPageRoutingModule","forChild","exports","MapsPage","platform","androidPermissions","geolocation","navCtrl","locationAccuracy","util","getLocation","ready","then","is","checkPermission","PERMISSION","ACCESS_FINE_LOCATION","result","console","log","hasPermission","err","requestPermission","grantRequest","canRequest","lat","lng","mapElement","location","google","maps","LatLng","style","featureType","elementType","stylers","saturation","mapOptions","zoom","scaleControl","streetViewControl","zoomControl","overviewMapControl","center","mapTypeControl","mapTypeControlOptions","mapTypeIds","MapTypeId","ROADMAP","map","Map","nativeElement","mapType","StyledMapType","name","mapTypes","set","setMapTypeId","addMarker","getAddress","geocoder","Geocoder","geocode","results","status","address","formatted_address","icon","url","scaledSize","Size","marker","Marker","position","draggable","animation","Animation","DROP","event","addListener","getDragAddress","localStorage","setItem","back","selector","template"],"mappings":"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","file":"pages-maps-maps-module-es5.js","sourcesContent":["export default \"<!-- \\n   Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 foodies app\\n  Created : 28-Feb-2021\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"util.back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{util.translate('Choose your Location')}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"div_map\\\" #map></div>\\n  <ion-button (click)=\\\"submit()\\\" expand=\\\"block\\\">\\n    {{util.translate('Submit')}}\\n  </ion-button>\\n</ion-content>\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapsPageRoutingModule } from './maps-routing.module';\n\nimport { MapsPage } from './maps.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    MapsPageRoutingModule\n  ],\n  declarations: [MapsPage]\n})\nexport class MapsPageModule { }\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 foodies app\\n  Created : 28-Feb-2021\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n*/\\n.div_map {\\n  height: 80vh;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21hcHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjs7Ozs7Ozs7Q0FBQTtBQVNBO0VBQ0ksWUFBQTtFQUNBLFdBQUE7QUFFSiIsImZpbGUiOiJtYXBzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIEF1dGhvcnMgOiBpbml0YXBweiAoUmFodWwgSm9ncmFuYSlcbiAgV2Vic2l0ZSA6IGh0dHBzOi8vaW5pdGFwcHouY29tL1xuICBBcHAgTmFtZSA6IGlvbmljIDUgZm9vZGllcyBhcHBcbiAgQ3JlYXRlZCA6IDI4LUZlYi0yMDIxXG4gIFRoaXMgQXBwIFRlbXBsYXRlIFNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIGFzIHBlciB0aGVcbiAgdGVybXMgZm91bmQgaW4gdGhlIFdlYnNpdGUgaHR0cHM6Ly9pbml0YXBwei5jb20vbGljZW5zZVxuICBDb3B5cmlnaHQgYW5kIEdvb2QgRmFpdGggUHVyY2hhc2VycyDCqSAyMDIwLXByZXNlbnQgaW5pdGFwcHouXG4qL1xuLmRpdl9tYXAge1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogMTAwJTtcbn1cbiJdfQ== */\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MapsPage } from './maps.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MapsPageRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Geolocation, GeolocationOptions, Geoposition, PositionError } from '@ionic-native/geolocation/ngx';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\nimport { NavController } from '@ionic/angular';\nimport { UtilService } from 'src/app/services/util.service';\ndeclare var google;\n\n@Component({\n  selector: 'app-maps',\n  templateUrl: './maps.page.html',\n  styleUrls: ['./maps.page.scss'],\n})\nexport class MapsPage implements OnInit {\n  @ViewChild('map', { static: true }) mapEle: ElementRef;\n  map: any;\n  marker: any;\n  lat: any;\n  lng: any;\n  address: any;\n  constructor(\n    private platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    public geolocation: Geolocation,\n    private navCtrl: NavController,\n    private locationAccuracy: LocationAccuracy,\n    public util: UtilService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.getLocation();\n  }\n  getLocation() {\n    this.platform.ready().then(() => {\n      if (this.platform.is('android')) {\n        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(\n          result => console.log('Has permission?', result.hasPermission),\n          err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)\n        );\n        this.grantRequest();\n      } else {\n        this.locationAccuracy.canRequest().then((canRequest: boolean) => {\n          console.log('canRequest', canRequest);\n        });\n        this.grantRequest();\n      }\n    });\n  }\n\n  grantRequest() {\n\n  }\n\n  loadmap(lat, lng, mapElement) {\n    let location = new google.maps.LatLng(lat, lng);\n    var style = [\n      {\n        featureType: 'all',\n        elementType: 'all',\n        stylers: [\n          { saturation: -100 }\n        ]\n      }\n    ];\n\n    var mapOptions = {\n      zoom: 15,\n      scaleControl: false,\n      streetViewControl: false,\n      zoomControl: false,\n      overviewMapControl: false,\n      center: location,\n      mapTypeControl: false,\n      mapTypeControlOptions: {\n        mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'Foodfire5']\n      }\n    }\n    this.map = new google.maps.Map(mapElement.nativeElement, mapOptions);\n    var mapType = new google.maps.StyledMapType(style, { name: 'Grayscale' });\n    this.map.mapTypes.set('Foodfire5', mapType);\n    this.map.setMapTypeId('Foodfire5');\n    this.addMarker(location);\n    this.getAddress(lat, lng);\n\n  }\n\n  getAddress(lat, lng) {\n    let geocoder = new google.maps.Geocoder();\n    let location = new google.maps.LatLng(lat, lng);\n    geocoder.geocode({ 'location': location }, (results, status) => {\n      console.log(results);\n      this.address = results[0].formatted_address;\n      this.lat = lat;\n      this.lng = lng;\n    });\n  }\n\n  addMarker(location) {\n    console.log('location =>', location)\n    var icon = {\n      url: 'assets/icon/marker.png',\n      scaledSize: new google.maps.Size(50, 50), // scaled size\n    }\n    this.marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: icon,\n      draggable: true,\n      animation: google.maps.Animation.DROP\n    })\n\n    google.maps.event.addListener(this.marker, 'dragend', () => {\n      console.log(this.marker);\n      this.getDragAddress(this.marker);\n    });\n\n  }\n\n  getDragAddress(event) {\n\n    let geocoder = new google.maps.Geocoder();\n    let location = new google.maps.LatLng(event.position.lat(), event.position.lng());\n    geocoder.geocode({ 'location': location }, (results, status) => {\n      console.log(results);\n      this.address = results[0].formatted_address;\n      this.lat = event.position.lat();\n      this.lng = event.position.lng();\n    });\n  }\n  submit() {\n    localStorage.setItem('newAddress', this.address);\n    localStorage.setItem('newLng', this.lng);\n    localStorage.setItem('newLat', this.lat);\n    this.navCtrl.back();\n  }\n}\n"]}