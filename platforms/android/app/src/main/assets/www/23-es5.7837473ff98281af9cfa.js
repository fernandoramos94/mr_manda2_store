!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{vUrZ:function(e,o,i){"use strict";i.r(o),i.d(o,"FoodsPageModule",function(){return P});var a=i("ofXK"),c=i("3Pt+"),r=i("TEn/"),l=i("tyNb"),s=i("8RPc"),d=i("2Rin"),g=i("fXoL");function u(n,t){if(1&n&&(g.Ob(0,"h2",14),g.rc(1),g.Nb()),2&n){var e=g.Yb();g.Ab(1),g.sc(e.util.translate("No existen productos"))}}function b(n,t){1&n&&(g.Ob(0,"ion-item"),g.Ob(1,"ion-thumbnail",1),g.Mb(2,"ion-skeleton-text",15),g.Nb(),g.Ob(3,"ion-label"),g.Ob(4,"h3"),g.Mb(5,"ion-skeleton-text",16),g.Nb(),g.Ob(6,"p"),g.Mb(7,"ion-skeleton-text",17),g.Nb(),g.Ob(8,"p"),g.Mb(9,"ion-skeleton-text",18),g.Nb(),g.Nb(),g.Nb())}function m(n,t){if(1&n&&(g.Ob(0,"ion-segment-button",19),g.Ob(1,"ion-label"),g.rc(2),g.Nb(),g.Nb()),2&n){var e=t.$implicit;g.ec("value",e.id),g.Ab(2),g.tc(" ",e.name," ")}}function f(n,t){if(1&n&&(g.Ob(0,"ion-label",27),g.rc(1),g.Nb()),2&n){var e=g.Yb(2);g.Ab(1),g.sc(e.util.translate("Veg"))}}function h(n,t){if(1&n&&(g.Ob(0,"ion-label",28),g.rc(1),g.Nb()),2&n){var e=g.Yb(2);g.Ab(1),g.sc(e.util.translate("Non Veg"))}}var p=function(n){return{"background-image":n}};function v(n,t){if(1&n){var e=g.Pb();g.Ob(0,"div"),g.Ob(1,"span",20),g.Wb("click",function(){g.mc(e);var n=t.$implicit;return g.Yb().foodsInfo(n)}),g.Mb(2,"div",21),g.Ob(3,"div",22),g.Ob(4,"ion-label",23),g.rc(5),g.Nb(),g.Ob(6,"ion-label",24),g.rc(7),g.Zb(8,"slice"),g.Nb(),g.qc(9,f,2,1,"ion-label",25),g.qc(10,h,2,1,"ion-label",26),g.Ob(11,"ion-label",23),g.rc(12),g.Nb(),g.Nb(),g.Nb(),g.Nb()}if(2&n){var o=t.$implicit,i=g.Yb();g.Ab(2),g.ec("ngStyle",g.jc(10,p,"url("+i.api.mediaURL+o.cover+"),url(assets/placeholder.jpg)")),g.Ab(3),g.sc(o.name),g.Ab(2),g.tc(" ",o.details.length>50?g.bc(8,6,o.details,0,50)+"..":o.details," "),g.Ab(2),g.ec("ngIf","1"===o.veg),g.Ab(1),g.ec("ngIf","0"===o.veg),g.Ab(2),g.tc(" ",o.price,"")}}var O,C,y,_=[{path:"",component:(O=function(){function e(t,o,i){n(this,e),this.router=t,this.api=o,this.util=i,this.foods=[],this.dummy=Array(10),this.categories=[]}var o,i,a;return o=e,(i=[{key:"ngOnInit",value:function(){}},{key:"category",value:function(){var n=this,t={id:localStorage.getItem("uid")};this.api.post("categories/getByRestId",t).then(function(t){t&&200===t.status&&t.data.length?(n.categories=t.data,n.caetId=n.categories[0].id,n.getFoodByCid()):n.dummy=[]},function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))}).catch(function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))})}},{key:"ionViewWillEnter",value:function(){this.category()}},{key:"segmentChanged",value:function(){this.foods=[],this.dummy=Array(10),this.getFoodByCid()}},{key:"getFoods",value:function(){var n=this,t={id:localStorage.getItem("uid"),limit:5e3};this.api.post("products/getByStoreId",t).then(function(t){n.dummy=[],console.log(t),console.log(t&&200===t.status&&t.data.length>0),t&&200===t.status&&t.data.length>0&&(n.foods=t.data)},function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))}).catch(function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))})}},{key:"getFoodByCid",value:function(){var n=this,t={id:localStorage.getItem("uid"),cid:this.caetId};this.api.post("products/getFoodByCid",t).then(function(t){n.dummy=[],console.log(t),console.log(t&&200===t.status&&t.data.length>0),t&&200===t.status&&t.data.length>0&&(n.foods=t.data)},function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))}).catch(function(t){console.log(t),n.dummy=[],n.util.errorToast(n.util.translate("Something went wrong"))})}},{key:"addnew",value:function(){this.router.navigate(["/add-new-foods"])}},{key:"foodsInfo",value:function(n){console.log(n),this.router.navigate(["add-new-foods"],{queryParams:{id:n.id}})}},{key:"search",value:function(n){var t=this;console.log(n);var e={search:n,id:localStorage.getItem("uid")};this.foods=[],this.dummy=Array(10),this.api.post("products/getSearchItems",e).then(function(n){console.log(n),t.dummy=[],n&&200===n.status&&n.data.length>0&&(t.foods=n.data)},function(n){console.log(n),t.dummy=[],t.util.errorToast(t.util.translate("Something went wrong"))}).catch(function(n){console.log(n),t.dummy=[],t.util.errorToast(t.util.translate("Something went wrong"))})}},{key:"onSearchChange",value:function(n){n.detail.value||this.category()}}])&&t(o.prototype,i),a&&t(o,a),e}(),O.\u0275fac=function(n){return new(n||O)(g.Lb(l.g),g.Lb(s.a),g.Lb(d.a))},O.\u0275cmp=g.Fb({type:O,selectors:[["app-foods"]],decls:19,vars:9,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end","fill","clear","color","light",3,"click"],["slot","icon-only","name","add"],[1,"ion-padding"],[1,"mainContent"],["inputmode","text","type","search","mode","ios","showCancelButton","never",3,"placeholder","ngModel","debounce","ngModelChange","keyup.enter","ionChange"],["q",""],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["scrollable","true","mode","md",3,"ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-center"],["animated",""],["animated","",2,"width","50%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],[3,"value"],[1,"card_div",3,"click"],[1,"back_image",3,"ngStyle"],[1,"content_div"],[1,"title"],[1,"small"],["class","veg",4,"ngIf"],["class","nonVeg",4,"ngIf"],[1,"veg"],[1,"nonVeg"]],template:function(n,t){if(1&n){var e=g.Pb();g.Ob(0,"ion-header"),g.Ob(1,"ion-toolbar",0),g.Ob(2,"ion-buttons",1),g.Ob(3,"ion-button",2),g.Wb("click",function(){return t.util.back()}),g.Mb(4,"ion-icon",3),g.Nb(),g.Nb(),g.Ob(5,"ion-title"),g.rc(6),g.Nb(),g.Ob(7,"ion-button",4),g.Wb("click",function(){return t.addnew()}),g.Mb(8,"ion-icon",5),g.Nb(),g.Nb(),g.Nb(),g.Ob(9,"ion-content",6),g.Ob(10,"div",7),g.Ob(11,"ion-searchbar",8,9),g.Wb("ngModelChange",function(n){return t.terms=n})("keyup.enter",function(){g.mc(e);var n=g.lc(12);return t.search(n.value)})("ionChange",function(n){return t.onSearchChange(n)}),g.Nb(),g.qc(13,u,2,1,"h2",10),g.qc(14,b,10,0,"ion-item",11),g.Ob(15,"div"),g.Ob(16,"ion-segment",12),g.Wb("ionChange",function(){return t.segmentChanged()})("ngModelChange",function(n){return t.caetId=n}),g.qc(17,m,3,2,"ion-segment-button",13),g.Nb(),g.Nb(),g.qc(18,v,13,12,"div",11),g.Nb(),g.Nb()}2&n&&(g.Ab(6),g.sc(t.util.translate("Productos")),g.Ab(5),g.ec("placeholder",t.util.translate("Buscar productos"))("ngModel",t.terms)("debounce",250),g.Ab(2),g.ec("ngIf",!(null!=t.dummy&&t.dummy.length||null!=t.categories&&t.categories.length)),g.Ab(1),g.ec("ngForOf",t.dummy),g.Ab(2),g.ec("ngModel",t.caetId),g.Ab(1),g.ec("ngForOf",t.categories),g.Ab(1),g.ec("ngForOf",t.foods))},directives:[r.o,r.W,r.g,r.f,r.p,r.V,r.j,r.F,r.jb,c.i,c.l,a.i,a.h,r.G,r.ib,r.r,r.U,r.K,r.t,r.H,a.j],pipes:[a.m],styles:[".mainContent[_ngcontent-%COMP%]   .head_lbl[_ngcontent-%COMP%]{font-weight:600;font-size:20px;display:block;margin-bottom:10px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:0 3px 6px rgba(0,0,0,.2);border-radius:5px;padding:15px;margin-bottom:15px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]{padding-left:20px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:gray;font-size:14px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{color:green}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .nonVeg[_ngcontent-%COMP%]{color:red}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .lonveg[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),O)}],M=((C=function t(){n(this,t)}).\u0275fac=function(n){return new(n||C)},C.\u0275mod=g.Jb({type:C}),C.\u0275inj=g.Ib({imports:[[l.i.forChild(_)],l.i]}),C),w=i("PCNd"),P=((y=function t(){n(this,t)}).\u0275fac=function(n){return new(n||y)},y.\u0275mod=g.Jb({type:y}),y.\u0275inj=g.Ib({imports:[[a.b,c.e,r.X,w.a,M]]}),y)}}])}();