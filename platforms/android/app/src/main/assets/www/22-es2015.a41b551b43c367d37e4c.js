(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{UTXh:function(t,n,i){"use strict";i.r(n),i.d(n,"ChatsPageModule",function(){return p});var o=i("ofXK"),e=i("3Pt+"),s=i("TEn/"),a=i("tyNb"),r=i("2Rin"),c=i("8RPc"),b=i("fXoL");function l(t,n){1&t&&(b.Ob(0,"ion-item"),b.Ob(1,"ion-avatar",1),b.Mb(2,"ion-skeleton-text"),b.Nb(),b.Ob(3,"ion-label"),b.Ob(4,"h3"),b.Mb(5,"ion-skeleton-text",9),b.Nb(),b.Ob(6,"p"),b.Mb(7,"ion-skeleton-text",10),b.Nb(),b.Nb(),b.Nb())}function u(t,n){if(1&t){const t=b.Pb();b.Ob(0,"ion-item",11),b.Wb("click",function(){b.mc(t);const i=n.$implicit;return b.Yb().onChat(i)}),b.Ob(1,"ion-avatar",1),b.Mb(2,"img",12),b.Nb(),b.Ob(3,"ion-label"),b.Ob(4,"h3"),b.rc(5),b.Nb(),b.Ob(6,"p"),b.rc(7),b.Nb(),b.Nb(),b.Mb(8,"ion-ripple-effect"),b.Nb()}if(2&t){const t=n.$implicit,i=b.Yb();b.Ab(2),b.ec("src",i.api.mediaURL+t.cover,b.oc),b.Ab(3),b.uc(" ",t.first_name," ",t.last_name," "),b.Ab(2),b.tc(" ",t.email," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,n,i,o){this.api=t,this.util=n,this.router=i,this.navCtrl=o,this.dummy=[],this.users=[],this.getChats()}getChats(){const t={id:localStorage.getItem("uid")};this.dummy=Array(10),this.api.post("chats/getByGroup",t).then(t=>{if(console.log(t),t&&200===t.status){const n=[];t.data.forEach(t=>{n.push(t.from_id),n.push(t.room_id)});let i=[...new Set(n)];i=i.filter(t=>t!==localStorage.getItem("uid")),console.log("uniq->>",i);const o={id:i.join()};this.api.post("users/getChatsNames",o).then(t=>{this.dummy=[],t&&200===t.status&&(this.users=t.data)},t=>{console.log(t),this.users=[],this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))})}else this.dummy=[]},t=>{console.log(t),this.util.errorToast(this.util.translate("Something went wrong"))})}ngOnInit(){}back(){this.navCtrl.back()}onAdmin(){this.router.navigate(["inbox"],{queryParams:{id:0,name:"Support"}})}onChat(t){this.router.navigate(["inbox"],{queryParams:{id:t.id,name:t.first_name+" "+t.last_name}})}}return t.\u0275fac=function(n){return new(n||t)(b.Lb(c.a),b.Lb(r.a),b.Lb(a.g),b.Lb(s.cb))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-chats"]],decls:14,vars:4,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end"],["slot","start","name","happy"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["class","ion-activatable ripple-parent",3,"click",4,"ngFor","ngForOf"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],[1,"ion-activatable","ripple-parent",3,"click"],["onError","this.src='assets/imgs/user.png'",3,"src"]],template:function(t,n){1&t&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar",0),b.Ob(2,"ion-buttons",1),b.Ob(3,"ion-button",2),b.Wb("click",function(){return n.back()}),b.Mb(4,"ion-icon",3),b.Nb(),b.Nb(),b.Ob(5,"ion-title"),b.rc(6),b.Nb(),b.Ob(7,"ion-buttons",4),b.Ob(8,"ion-button",2),b.Wb("click",function(){return n.onAdmin()}),b.Mb(9,"ion-icon",5),b.rc(10),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(11,"ion-content",6),b.qc(12,l,8,0,"ion-item",7),b.qc(13,u,9,4,"ion-item",8),b.Nb()),2&t&&(b.Ab(6),b.sc(n.util.translate("Chats")),b.Ab(4),b.tc(" ",n.util.translate("Support")," "),b.Ab(2),b.ec("ngForOf",n.dummy),b.Ab(1),b.ec("ngForOf",n.users))},directives:[s.o,s.W,s.g,s.f,s.p,s.V,s.j,o.h,s.r,s.e,s.K,s.t,s.C],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[a.i.forChild(m)],a.i]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[o.b,e.e,s.X,h]]}),t})()}}]);