(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"1nHT":function(t,n,o){"use strict";o.r(n),o.d(n,"ResetPageModule",function(){return q});var e=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),a=o("mrSG"),l=o("2Rin"),c=o("8RPc"),d=o("hxji"),b=o("TCp9"),g=o("fXoL");function h(t,n){if(1&t&&(g.Ob(0,"span"),g.rc(1),g.Nb()),2&t){const t=g.Yb(3);g.Ab(1),g.tc(" ",t.util.translate("restablecer")," ")}}function p(t,n){1&t&&g.Mb(0,"ion-spinner",14)}function u(t,n){if(1&t){const t=g.Pb();g.Ob(0,"div"),g.Ob(1,"ion-input",10),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).email=n}),g.Mb(2,"ion-icon",11),g.Nb(),g.Ob(3,"ion-button",12),g.Wb("click",function(){return g.mc(t),g.Yb(2).sendOTP()}),g.qc(4,h,2,1,"span",9),g.qc(5,p,1,0,"ion-spinner",13),g.Nb(),g.Nb()}if(2&t){const t=g.Yb(2);g.Ab(1),g.ec("placeholder",t.util.translate("Correo"))("ngModel",t.email),g.Ab(2),g.ec("disabled",t.loggedIn),g.Ab(1),g.ec("ngIf",!t.loggedIn),g.Ab(1),g.ec("ngIf",t.loggedIn)}}function f(t,n){if(1&t&&(g.Ob(0,"span"),g.rc(1),g.Nb()),2&t){const t=g.Yb(3);g.Ab(1),g.tc(" ",t.util.translate("Verify OTP")," ")}}function m(t,n){1&t&&g.Mb(0,"ion-spinner",14)}function O(t,n){if(1&t){const t=g.Pb();g.Ob(0,"div"),g.Ob(1,"ion-input",15),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).otp=n}),g.Mb(2,"ion-icon",16),g.Nb(),g.Ob(3,"ion-button",12),g.Wb("click",function(){return g.mc(t),g.Yb(2).verifyOTP()}),g.qc(4,f,2,1,"span",9),g.qc(5,m,1,0,"ion-spinner",13),g.Nb(),g.Nb()}if(2&t){const t=g.Yb(2);g.Ab(1),g.ec("placeholder",t.util.translate("OTP"))("ngModel",t.otp),g.Ab(2),g.ec("disabled",t.loggedIn),g.Ab(1),g.ec("ngIf",!t.loggedIn),g.Ab(1),g.ec("ngIf",t.loggedIn)}}function _(t,n){if(1&t&&(g.Ob(0,"span"),g.rc(1),g.Nb()),2&t){const t=g.Yb(3);g.Ab(1),g.tc(" ",t.util.translate("Reset Password")," ")}}function w(t,n){1&t&&g.Mb(0,"ion-spinner",14)}function v(t,n){if(1&t){const t=g.Pb();g.Ob(0,"div"),g.Ob(1,"ion-input",17),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).password=n}),g.Mb(2,"ion-icon",16),g.Nb(),g.Ob(3,"ion-input",17),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).repass=n}),g.Mb(4,"ion-icon",16),g.Nb(),g.Ob(5,"ion-button",12),g.Wb("click",function(){return g.mc(t),g.Yb(2).sendEmail()}),g.qc(6,_,2,1,"span",9),g.qc(7,w,1,0,"ion-spinner",13),g.Nb(),g.Nb()}if(2&t){const t=g.Yb(2);g.Ab(1),g.ec("placeholder",t.util.translate("New Password"))("ngModel",t.password),g.Ab(2),g.ec("placeholder",t.util.translate("Confirm Password"))("ngModel",t.repass),g.Ab(2),g.ec("disabled",t.loggedIn),g.Ab(1),g.ec("ngIf",!t.loggedIn),g.Ab(1),g.ec("ngIf",t.loggedIn)}}function C(t,n){if(1&t&&(g.Ob(0,"div",7),g.Ob(1,"ion-label",8),g.rc(2),g.Nb(),g.qc(3,u,6,5,"div",9),g.qc(4,O,6,5,"div",9),g.qc(5,v,8,7,"div",9),g.Nb()),2&t){const t=g.Yb();g.Ab(2),g.tc(" ",t.util.translate("Cambiar contrase\xf1a")," "),g.Ab(1),g.ec("ngIf",1===t.div_type),g.Ab(1),g.ec("ngIf",2===t.div_type),g.Ab(1),g.ec("ngIf",3===t.div_type)}}function M(t,n){if(1&t&&(g.Ob(0,"span"),g.rc(1),g.Nb()),2&t){const t=g.Yb(3);g.Ab(1),g.tc(" ",t.util.translate("Send OTP")," ")}}function P(t,n){1&t&&g.Mb(0,"ion-spinner",14)}function I(t,n){if(1&t){const t=g.Pb();g.Ob(0,"div"),g.Ob(1,"ion-row"),g.Ob(2,"ion-col",18),g.Wb("click",function(){return g.mc(t),g.Yb(2).openCountry()}),g.Ob(3,"ion-input",19),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).cc=n}),g.Nb(),g.Nb(),g.Ob(4,"ion-col",20),g.Ob(5,"ion-input",21),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).phone=n}),g.Nb(),g.Nb(),g.Nb(),g.Ob(6,"ion-button",12),g.Wb("click",function(){return g.mc(t),g.Yb(2).sendOTPOnMobile()}),g.qc(7,M,2,1,"span",9),g.qc(8,P,1,0,"ion-spinner",13),g.Nb(),g.Nb()}if(2&t){const t=g.Yb(2);g.Ab(3),g.ec("ngModel",t.cc),g.Ab(2),g.ec("ngModel",t.phone)("placeholder",t.util.translate("Mobile Number")),g.Ab(1),g.ec("disabled",t.loggedIn),g.Ab(1),g.ec("ngIf",!t.loggedIn),g.Ab(1),g.ec("ngIf",t.loggedIn)}}function y(t,n){if(1&t&&(g.Ob(0,"span"),g.rc(1),g.Nb()),2&t){const t=g.Yb(3);g.Ab(1),g.tc(" ",t.util.translate("Reset Password")," ")}}function A(t,n){1&t&&g.Mb(0,"ion-spinner",14)}function N(t,n){if(1&t){const t=g.Pb();g.Ob(0,"div"),g.Ob(1,"ion-input",17),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).password=n}),g.Mb(2,"ion-icon",16),g.Nb(),g.Ob(3,"ion-input",17),g.Wb("ngModelChange",function(n){return g.mc(t),g.Yb(2).repass=n}),g.Mb(4,"ion-icon",16),g.Nb(),g.Ob(5,"ion-button",12),g.Wb("click",function(){return g.mc(t),g.Yb(2).resetPasswordWithPhone()}),g.qc(6,y,2,1,"span",9),g.qc(7,A,1,0,"ion-spinner",13),g.Nb(),g.Nb()}if(2&t){const t=g.Yb(2);g.Ab(1),g.ec("placeholder",t.util.translate("New Password"))("ngModel",t.password),g.Ab(2),g.ec("placeholder",t.util.translate("Confirm Password"))("ngModel",t.repass),g.Ab(2),g.ec("disabled",t.loggedIn),g.Ab(1),g.ec("ngIf",!t.loggedIn),g.Ab(1),g.ec("ngIf",t.loggedIn)}}function T(t,n){if(1&t&&(g.Ob(0,"div",7),g.Ob(1,"ion-label",8),g.rc(2),g.Nb(),g.qc(3,I,9,6,"div",9),g.qc(4,N,8,7,"div",9),g.Nb()),2&t){const t=g.Yb();g.Ab(2),g.tc(" ",t.util.translate("Reset Password")," "),g.Ab(1),g.ec("ngIf",1===t.div_type),g.Ab(1),g.ec("ngIf",3===t.div_type)}}const k=[{path:"",component:(()=>{class t{constructor(t,n,o,e,i,s){this.api=t,this.util=n,this.navCtrl=o,this.menuController=e,this.modalController=i,this.alertController=s,this.cc="+91",this.ccCode="+91",this.div_type=1,this.sent=!1,this.email="",this.otp="",this.password="",this.repass="",this.verified=!1}ngOnInit(){}sendOTP(){return console.log(this.email,";sendOTPDriver"),this.email?/^[\w._-]+[+]?[\w._-]+@[\w.-]+\.[a-zA-Z]{2,6}$/.test(this.email)?(this.loggedIn=!0,void this.api.post("users/sendOTP",{email:this.email}).then(t=>{if(console.log(t),this.loggedIn=!1,!t||200!==t.status)return t&&500===t.status&&t.data&&t.data.message?(this.util.errorToast(t.data.message),!1):(this.util.errorToast(this.util.translate("Something went wrong")),!1);this.id=t.data.id,this.loggedIn=!1,this.div_type=2},t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))})):(this.util.showToast(this.util.translate("Please enter valid email"),"dark","bottom"),!1):(this.util.showToast(this.util.translate("email is required"),"dark","bottom"),!1)}verifyOTP(){if(!this.otp||""===this.otp)return this.util.showToast(this.util.translate("otp is required"),"dark","bottom"),!1;this.loggedIn=!0,this.api.post("users/verifyOTP",{id:this.id,otp:this.otp}).then(t=>{if(console.log(t),this.loggedIn=!1,!t||200!==t.status)return t&&500===t.status&&t.data&&t.data.message?(this.util.errorToast(t.data.message),!1):(this.util.errorToast(this.util.translate("Something went wrong")),!1);this.loggedIn=!1,this.div_type=3},t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))})}sendEmail(){if(console.log("pwddd0<<<<<<",this.password),!this.password||!this.repass||""===this.password||""===this.repass)return this.util.errorToast(this.util.translate("All Field are required")),!1;const t={email:this.email,pwd:this.password};this.loggedIn=!0,this.api.post("users/update_password",t).then(t=>{if(console.log(t),this.loggedIn=!1,!t||200!==t.status)return t&&500===t.status&&t.data&&t.data.message?(this.util.errorToast(t.data.message),!1):(this.util.errorToast(this.util.translate("Something went wrong")),!1);this.loggedIn=!1,this.util.errorToast(this.util.translate("Password Updated")),this.back()},t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))})}resetPasswordWithPhone(){if(console.log("pwddd0<<<<<<",this.password),!this.password||!this.repass||""===this.password||""===this.repass)return this.util.errorToast(this.util.translate("All Field are required")),!1;const t={phone:this.phone,pwd:this.password};this.loggedIn=!0,this.api.post("users/resetPasswordWithPhone",t).then(t=>{if(console.log(t),this.loggedIn=!1,!t||200!==t.status)return t&&500===t.status&&t.data&&t.data.message?(this.util.errorToast(t.data.message),!1):(this.util.errorToast(this.util.translate("Something went wrong")),!1);this.loggedIn=!1,this.util.errorToast(this.util.translate("Password Updated")),this.back()},t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))})}back(){this.navCtrl.back()}ionViewWillEnter(){this.menuController.enable(!1)}ionViewWillLeave(){this.menuController.enable(!0)}openCountry(){return Object(a.a)(this,void 0,void 0,function*(){console.log("open ccode");const t=yield this.modalController.create({component:d.a,backdropDismiss:!1,showBackdrop:!0});t.onDidDismiss().then(t=>{console.log(t),t&&"selected"===t.role&&(console.log("ok"),this.cc="+"+t.data,this.ccCode="+"+t.data)}),yield t.present()})}sendOTPOnMobile(){const t={phone:this.phone};this.loggedIn=!0,this.api.post("users/validatePhoneForReset",t).then(t=>{this.loggedIn=!1,console.log("data",t),t&&200===t.status?(console.log("all done..."),this.presentAlertConfirm()):this.util.errorToast(t&&500===t.status?t.data.message:this.util.translate("Something went wrong"))},t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.loggedIn=!1,this.util.errorToast(this.util.translate("Something went wrong"))})}presentAlertConfirm(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"Confirm Informations",message:"We will send verification code to your mobile number  "+this.ccCode+this.phone,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Send",handler:()=>{console.log("Confirm Okay"),this.openModal()}}]});yield t.present()})}openModal(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:b.a,componentProps:{code:this.ccCode,phone:this.phone}});t.onDidDismiss().then(t=>{console.log(t),t&&"ok"===t.role&&(console.log("verification done..."),this.div_type=3)}),t.present()})}}return t.\u0275fac=function(n){return new(n||t)(g.Lb(c.a),g.Lb(l.a),g.Lb(s.cb),g.Lb(s.ab),g.Lb(s.bb),g.Lb(s.b))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-reset"]],decls:12,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"main_content_div"],[1,"iconDiv"],["class","form_div",4,"ngIf"],[1,"form_div"],[1,"main_head"],[4,"ngIf"],["type","email",3,"placeholder","ngModel","ngModelChange"],["name","mail","slot","icon-only"],["expand","block",3,"disabled","click"],["name","circular",4,"ngIf"],["name","circular"],["type","number",3,"placeholder","ngModel","ngModelChange"],["name","key","slot","icon-only"],["type","password",3,"placeholder","ngModel","ngModelChange"],["size","3",3,"click"],["disabled","true","type","text",2,"font-size","12px",3,"ngModel","ngModelChange"],["size","9"],["type","number",3,"ngModel","placeholder","ngModelChange"]],template:function(t,n){1&t&&(g.Ob(0,"ion-header"),g.Ob(1,"ion-toolbar",0),g.Ob(2,"ion-buttons",1),g.Ob(3,"ion-button",2),g.Wb("click",function(){return n.util.back()}),g.Mb(4,"ion-icon",3),g.Nb(),g.Nb(),g.Ob(5,"ion-title"),g.rc(6),g.Nb(),g.Nb(),g.Nb(),g.Ob(7,"ion-content"),g.Ob(8,"div",4),g.Mb(9,"div",5),g.qc(10,C,6,4,"div",6),g.qc(11,T,5,3,"div",6),g.Nb(),g.Nb()),2&t&&(g.Ab(6),g.sc(n.util.translate("Cambiar contrase\xf1a")),g.Ab(4),g.ec("ngIf","0"===n.util.reset_pwd),g.Ab(1),g.ec("ngIf","1"===n.util.reset_pwd))},directives:[s.o,s.W,s.g,s.f,s.p,s.V,s.j,e.i,s.t,s.q,s.jb,i.i,i.l,s.N,s.eb,s.E,s.i],styles:[".main_content_div[_ngcontent-%COMP%]{width:100%;padding:30px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%)}.main_content_div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:20px;padding:10px}.main_content_div[_ngcontent-%COMP%]   .iconDiv[_ngcontent-%COMP%]{text-align:center}.main_content_div[_ngcontent-%COMP%]   .iconDiv[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:60px}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]{padding:25px;position:relative}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   .main_head[_ngcontent-%COMP%]{display:block;color:var(--ion-color-primary);font-weight:600;font-size:30px;margin:10px}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px;color:#fff}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{display:block;text-align:center;color:#fff}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:15px;--padding-start:8px;--padding-end:10px;border:1px solid #d3d3d3}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px;--border-radius:20px;--background:var(--ion-color-primary);--color:#fff}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   .tri[_ngcontent-%COMP%]{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:15px solid #fff;position:absolute;top:-15px}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   .lbl[_ngcontent-%COMP%]{margin-top:20px;color:#fff;display:block;text-align:center}.main_content_div[_ngcontent-%COMP%]   .form_div[_ngcontent-%COMP%]   .signup_span[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({imports:[[r.i.forChild(k)],r.i]}),t})();var Y=o("PCNd");let q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({imports:[[e.b,i.e,s.X,Y.a,x]]}),t})()}}]);