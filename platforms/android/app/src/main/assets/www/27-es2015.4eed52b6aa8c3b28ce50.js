(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{MWin:function(t,e,o){"use strict";o.r(e),o.d(e,"MapsPageModule",function(){return u});var s=o("ofXK"),n=o("3Pt+"),i=o("TEn/"),a=o("tyNb"),r=o("WOgW"),l=o("Bfh1"),c=o("92l+"),d=o("2Rin"),p=o("fXoL");const m=["map"],g=[{path:"",component:(()=>{class t{constructor(t,e,o,s,n,i){this.platform=t,this.androidPermissions=e,this.geolocation=o,this.navCtrl=s,this.locationAccuracy=n,this.util=i}ngOnInit(){}ionViewWillEnter(){this.getLocation()}getLocation(){this.platform.ready().then(()=>{this.platform.is("android")?(this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(t=>console.log("Has permission?",t.hasPermission),t=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)),this.grantRequest()):(this.locationAccuracy.canRequest().then(t=>{console.log("canRequest",t)}),this.grantRequest())})}grantRequest(){}loadmap(t,e,o){let s=new google.maps.LatLng(t,e);var n={zoom:15,scaleControl:!1,streetViewControl:!1,zoomControl:!1,overviewMapControl:!1,center:s,mapTypeControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"Foodfire5"]}};this.map=new google.maps.Map(o.nativeElement,n);var i=new google.maps.StyledMapType([{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],{name:"Grayscale"});this.map.mapTypes.set("Foodfire5",i),this.map.setMapTypeId("Foodfire5"),this.addMarker(s),this.getAddress(t,e)}getAddress(t,e){let o=new google.maps.Geocoder,s=new google.maps.LatLng(t,e);o.geocode({location:s},(o,s)=>{console.log(o),this.address=o[0].formatted_address,this.lat=t,this.lng=e})}addMarker(t){console.log("location =>",t);var e={url:"assets/icon/marker.png",scaledSize:new google.maps.Size(50,50)};this.marker=new google.maps.Marker({position:t,map:this.map,icon:e,draggable:!0,animation:google.maps.Animation.DROP}),google.maps.event.addListener(this.marker,"dragend",()=>{console.log(this.marker),this.getDragAddress(this.marker)})}getDragAddress(t){let e=new google.maps.Geocoder,o=new google.maps.LatLng(t.position.lat(),t.position.lng());e.geocode({location:o},(e,o)=>{console.log(e),this.address=e[0].formatted_address,this.lat=t.position.lat(),this.lng=t.position.lng()})}submit(){localStorage.setItem("newAddress",this.address),localStorage.setItem("newLng",this.lng),localStorage.setItem("newLat",this.lat),this.navCtrl.back()}}return t.\u0275fac=function(e){return new(e||t)(p.Lb(i.fb),p.Lb(r.a),p.Lb(l.a),p.Lb(i.cb),p.Lb(c.a),p.Lb(d.a))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-maps"]],viewQuery:function(t,e){if(1&t&&p.wc(m,3),2&t){let t;p.kc(t=p.Xb())&&(e.mapEle=t.first)}},decls:12,vars:2,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"ion-padding"],[1,"div_map"],["map",""],["expand","block",3,"click"]],template:function(t,e){1&t&&(p.Ob(0,"ion-header"),p.Ob(1,"ion-toolbar"),p.Ob(2,"ion-buttons",0),p.Ob(3,"ion-button",1),p.Wb("click",function(){return e.util.back()}),p.Mb(4,"ion-icon",2),p.Nb(),p.Nb(),p.Ob(5,"ion-title"),p.rc(6),p.Nb(),p.Nb(),p.Nb(),p.Ob(7,"ion-content",3),p.Mb(8,"div",4,5),p.Ob(10,"ion-button",6),p.Wb("click",function(){return e.submit()}),p.rc(11),p.Nb(),p.Nb()),2&t&&(p.Ab(6),p.sc(e.util.translate("Choose your Location")),p.Ab(5),p.tc(" ",e.util.translate("Submit")," "))},directives:[i.o,i.W,i.g,i.f,i.p,i.V,i.j],styles:[".div_map[_ngcontent-%COMP%]{height:80vh;width:100%}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({imports:[[a.i.forChild(g)],a.i]}),t})();var b=o("PCNd");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({imports:[[s.b,n.e,i.X,b.a,h]]}),t})()}}]);