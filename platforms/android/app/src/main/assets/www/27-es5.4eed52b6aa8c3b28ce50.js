!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{MWin:function(n,t,a){"use strict";a.r(t),a.d(t,"MapsPageModule",function(){return k});var i,s,r,l=a("ofXK"),c=a("3Pt+"),u=a("TEn/"),p=a("tyNb"),d=a("WOgW"),m=a("Bfh1"),g=a("92l+"),f=a("2Rin"),b=a("fXoL"),h=["map"],y=[{path:"",component:(i=function(){function n(o,t,a,i,s,r){e(this,n),this.platform=o,this.androidPermissions=t,this.geolocation=a,this.navCtrl=i,this.locationAccuracy=s,this.util=r}var t,a,i;return t=n,(a=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var e=this;this.platform.ready().then(function(){e.platform.is("android")?(e.androidPermissions.checkPermission(e.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(function(e){return console.log("Has permission?",e.hasPermission)},function(o){return e.androidPermissions.requestPermission(e.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)}),e.grantRequest()):(e.locationAccuracy.canRequest().then(function(e){console.log("canRequest",e)}),e.grantRequest())})}},{key:"grantRequest",value:function(){}},{key:"loadmap",value:function(e,o,n){var t=new google.maps.LatLng(e,o),a={zoom:15,scaleControl:!1,streetViewControl:!1,zoomControl:!1,overviewMapControl:!1,center:t,mapTypeControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"Foodfire5"]}};this.map=new google.maps.Map(n.nativeElement,a);var i=new google.maps.StyledMapType([{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],{name:"Grayscale"});this.map.mapTypes.set("Foodfire5",i),this.map.setMapTypeId("Foodfire5"),this.addMarker(t),this.getAddress(e,o)}},{key:"getAddress",value:function(e,o){var n=this,t=new google.maps.Geocoder,a=new google.maps.LatLng(e,o);t.geocode({location:a},function(t,a){console.log(t),n.address=t[0].formatted_address,n.lat=e,n.lng=o})}},{key:"addMarker",value:function(e){var o=this;console.log("location =>",e);var n={url:"assets/icon/marker.png",scaledSize:new google.maps.Size(50,50)};this.marker=new google.maps.Marker({position:e,map:this.map,icon:n,draggable:!0,animation:google.maps.Animation.DROP}),google.maps.event.addListener(this.marker,"dragend",function(){console.log(o.marker),o.getDragAddress(o.marker)})}},{key:"getDragAddress",value:function(e){var o=this,n=new google.maps.Geocoder,t=new google.maps.LatLng(e.position.lat(),e.position.lng());n.geocode({location:t},function(n,t){console.log(n),o.address=n[0].formatted_address,o.lat=e.position.lat(),o.lng=e.position.lng()})}},{key:"submit",value:function(){localStorage.setItem("newAddress",this.address),localStorage.setItem("newLng",this.lng),localStorage.setItem("newLat",this.lat),this.navCtrl.back()}}])&&o(t.prototype,a),i&&o(t,i),n}(),i.\u0275fac=function(e){return new(e||i)(b.Lb(u.fb),b.Lb(d.a),b.Lb(m.a),b.Lb(u.cb),b.Lb(g.a),b.Lb(f.a))},i.\u0275cmp=b.Fb({type:i,selectors:[["app-maps"]],viewQuery:function(e,o){var n;1&e&&b.wc(h,3),2&e&&b.kc(n=b.Xb())&&(o.mapEle=n.first)},decls:12,vars:2,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"ion-padding"],[1,"div_map"],["map",""],["expand","block",3,"click"]],template:function(e,o){1&e&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",0),b.Ob(3,"ion-button",1),b.Wb("click",function(){return o.util.back()}),b.Mb(4,"ion-icon",2),b.Nb(),b.Nb(),b.Ob(5,"ion-title"),b.rc(6),b.Nb(),b.Nb(),b.Nb(),b.Ob(7,"ion-content",3),b.Mb(8,"div",4,5),b.Ob(10,"ion-button",6),b.Wb("click",function(){return o.submit()}),b.rc(11),b.Nb(),b.Nb()),2&e&&(b.Ab(6),b.sc(o.util.translate("Choose your Location")),b.Ab(5),b.tc(" ",o.util.translate("Submit")," "))},directives:[u.o,u.W,u.g,u.f,u.p,u.V,u.j],styles:[".div_map[_ngcontent-%COMP%]{height:80vh;width:100%}"]}),i)}],v=((s=function o(){e(this,o)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=b.Jb({type:s}),s.\u0275inj=b.Ib({imports:[[p.i.forChild(y)],p.i]}),s),w=a("PCNd"),k=((r=function o(){e(this,o)}).\u0275fac=function(e){return new(e||r)},r.\u0275mod=b.Jb({type:r}),r.\u0275inj=b.Ib({imports:[[l.b,c.e,u.X,w.a,v]]}),r)}}])}();