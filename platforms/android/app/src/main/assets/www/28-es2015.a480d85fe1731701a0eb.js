(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"982l":function(t,e,n){"use strict";n.r(e),n.d(e,"OrderDetailPageModule",function(){return W});var i=n("ofXK"),r=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),o=n("mrSG"),c=n("8RPc"),l=n("2Rin"),d=n("PSD3"),h=n.n(d),b=n("ERed"),u=n("METt"),g=n("wd/R"),p=n("m/P+"),_=n("fXoL");function f(t,e){1&t&&(_.Ob(0,"div",10),_.Mb(1,"ion-spinner",11),_.Nb())}function O(t,e){if(1&t){const t=_.Pb();_.Ob(0,"div",22),_.Ob(1,"div",23),_.Ob(2,"div",24),_.Mb(3,"ion-icon",32),_.rc(4,"\xa0\xa0 "),_.Ob(5,"ion-label",17),_.rc(6),_.Nb(),_.Nb(),_.Ob(7,"div"),_.Ob(8,"ion-button",33),_.Wb("click",function(){return _.mc(t),_.Yb(2).driverCall()}),_.rc(9),_.Nb(),_.Nb(),_.Nb(),_.Nb()}if(2&t){const t=_.Yb(2);_.Ab(6),_.sc(t.driverMobile),_.Ab(3),_.sc(t.util.translate("Llamar"))}}function m(t,e){if(1&t){const t=_.Pb();_.Ob(0,"div",22),_.Ob(1,"div",23),_.Ob(2,"div",24),_.Mb(3,"ion-icon",32),_.rc(4,"\xa0\xa0 "),_.Ob(5,"ion-label",17),_.rc(6),_.Nb(),_.Nb(),_.Ob(7,"div"),_.Ob(8,"ion-button",33),_.Wb("click",function(){return _.mc(t),_.Yb(2).call()}),_.rc(9),_.Nb(),_.Nb(),_.Nb(),_.Nb()}if(2&t){const t=_.Yb(2);_.Ab(6),_.sc(t.phone),_.Ab(3),_.sc(t.util.translate("Llamar"))}}function v(t,e){if(1&t){const t=_.Pb();_.Ob(0,"div",22),_.Ob(1,"div",23),_.Ob(2,"div",24),_.Mb(3,"ion-icon",34),_.rc(4,"\xa0\xa0 "),_.Ob(5,"ion-label",17),_.rc(6),_.Nb(),_.Nb(),_.Ob(7,"div"),_.Ob(8,"ion-button",33),_.Wb("click",function(){return _.mc(t),_.Yb(2).email()}),_.rc(9),_.Nb(),_.Nb(),_.Nb(),_.Nb()}if(2&t){const t=_.Yb(2);_.Ab(6),_.sc(t.userEmail),_.Ab(3),_.sc(t.util.translate("Correo"))}}function M(t,e){if(1&t&&(_.Ob(0,"p",41),_.rc(1),_.Nb()),2&t){const t=_.Yb().$implicit,e=_.Yb(4);_.Ab(1),_.uc(" ",e.util.currecny," ",t.value," ")}}function C(t,e){if(1&t&&(_.Ob(0,"p",41),_.rc(1),_.Nb()),2&t){const t=_.Yb().$implicit,e=_.Yb(4);_.Ab(1),_.uc(" ",t.value," ",e.util.currecny," ")}}function P(t,e){if(1&t&&(_.Ob(0,"div",40),_.Ob(1,"p",41),_.rc(2),_.Nb(),_.qc(3,M,2,2,"p",42),_.qc(4,C,2,2,"p",42),_.Nb()),2&t){const t=e.$implicit,n=_.Yb(4);_.Ab(2),_.tc(" - ",t.name," "),_.Ab(1),_.ec("ngIf","left"===n.util.cside),_.Ab(1),_.ec("ngIf","right"===n.util.cside)}}function x(t,e){if(1&t&&(_.Ob(0,"div",37),_.Ob(1,"ion-label",38),_.rc(2),_.Nb(),_.qc(3,P,5,3,"div",39),_.Nb()),2&t){const t=e.$implicit,n=e.index,i=_.Yb().$implicit;_.Ab(2),_.uc(" ",i.name," X ",i.selectedItem[n].total,""),_.Ab(1),_.ec("ngForOf",t.item)}}function y(t,e){if(1&t&&(_.Ob(0,"ion-label",46),_.rc(1),_.Nb()),2&t){const t=_.Yb(2).$implicit,e=_.Yb(2);_.Ab(1),_.uc("",e.util.currecny,"",t.quantiy*t.price," ")}}function N(t,e){if(1&t&&(_.Ob(0,"ion-label",46),_.rc(1),_.Nb()),2&t){const t=_.Yb(2).$implicit,e=_.Yb(2);_.Ab(1),_.uc("",t.quantiy*t.price," ",e.util.currecny," ")}}function w(t,e){if(1&t&&(_.Ob(0,"div",43),_.Ob(1,"div",44),_.Ob(2,"ion-label",38),_.rc(3),_.Nb(),_.qc(4,y,2,2,"ion-label",45),_.qc(5,N,2,2,"ion-label",45),_.Nb(),_.Nb()),2&t){const t=_.Yb().$implicit,e=_.Yb(2);_.Ab(3),_.uc("",t.name," X ",t.quantiy," "),_.Ab(1),_.ec("ngIf","left"===e.util.cside),_.Ab(1),_.ec("ngIf","right"===e.util.cside)}}function A(t,e){if(1&t&&(_.Ob(0,"span"),_.qc(1,x,4,3,"div",35),_.qc(2,w,6,4,"div",36),_.Nb()),2&t){const t=e.$implicit;_.Ab(1),_.ec("ngForOf",t.selectedItem),_.Ab(1),_.ec("ngIf",!t.selectedItem||!t.selectedItem.length)}}function k(t,e){if(1&t&&(_.Ob(0,"span",47),_.rc(1),_.Nb()),2&t){const t=_.Yb(2);_.Ab(1),_.uc("",t.util.currecny," ",t.total,"")}}function I(t,e){if(1&t&&(_.Ob(0,"span",47),_.rc(1),_.Nb()),2&t){const t=_.Yb(2);_.Ab(1),_.uc("",t.total," ",t.util.currecny,"")}}function S(t,e){if(1&t&&(_.Ob(0,"span",47),_.rc(1),_.Nb()),2&t){const t=_.Yb(2);_.Ab(1),_.uc("",t.util.currecny," ",t.grandTotal,"")}}function T(t,e){if(1&t&&(_.Ob(0,"span",47),_.rc(1),_.Nb()),2&t){const t=_.Yb(2);_.Ab(1),_.uc("",t.grandTotal," ",t.util.currecny,"")}}const Y=function(t){return{"background-image":t}};function z(t,e){if(1&t&&(_.Ob(0,"div",12),_.Ob(1,"div",13),_.Ob(2,"div",14),_.Mb(3,"div",15),_.Ob(4,"div",16),_.Ob(5,"ion-label",17),_.rc(6),_.Nb(),_.Ob(7,"ion-label",18),_.rc(8),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Ob(9,"ion-text",19),_.Ob(10,"p"),_.rc(11),_.Nb(),_.Nb(),_.qc(12,O,10,2,"div",20),_.Mb(13,"div",21),_.Ob(14,"ion-text",19),_.Ob(15,"p"),_.rc(16),_.Nb(),_.Nb(),_.qc(17,m,10,2,"div",20),_.Mb(18,"div",21),_.qc(19,v,10,2,"div",20),_.Mb(20,"div",21),_.Ob(21,"div",22),_.Ob(22,"div",23),_.Ob(23,"div",24),_.Mb(24,"ion-icon",25),_.rc(25,"\xa0\xa0 "),_.Ob(26,"ion-label",17),_.rc(27),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.qc(28,A,3,2,"span",26),_.Ob(29,"ion-label",27),_.rc(30),_.Nb(),_.Ob(31,"ion-label",28),_.rc(32),_.Nb(),_.Ob(33,"div",22),_.Ob(34,"div",29),_.Ob(35,"ion-label",30),_.rc(36),_.qc(37,k,2,2,"span",31),_.qc(38,I,2,2,"span",31),_.Nb(),_.Ob(39,"ion-label",30),_.rc(40),_.qc(41,S,2,2,"span",31),_.qc(42,T,2,2,"span",31),_.Nb(),_.Nb(),_.Nb(),_.Nb()),2&t){const t=_.Yb();_.Ab(3),_.ec("ngStyle",_.jc(18,Y,"url("+t.api.mediaURL+t.userPic+"),url(assets/placeholder.jpg)")),_.Ab(3),_.sc(t.userName),_.Ab(2),_.sc(t.time),_.Ab(3),_.sc(t.util.translate("Informaci\xf3n del repartidor")),_.Ab(1),_.ec("ngIf",t.driverMobile),_.Ab(4),_.sc(t.util.translate("Informaci\xf3n del cliente")),_.Ab(1),_.ec("ngIf",t.phone),_.Ab(2),_.ec("ngIf",t.userEmail),_.Ab(8),_.sc(t.deliveryAddress),_.Ab(1),_.ec("ngForOf",t.orders),_.Ab(2),_.sc(t.util.translate("Notas de la orden")),_.Ab(2),_.sc(t.orderNotes),_.Ab(4),_.tc("",t.util.translate("Productos")," "),_.Ab(1),_.ec("ngIf","left"===t.util.cside),_.Ab(1),_.ec("ngIf","right"===t.util.cside),_.Ab(2),_.tc("",t.util.translate("Total")," "),_.Ab(1),_.ec("ngIf","left"===t.util.cside),_.Ab(1),_.ec("ngIf","right"===t.util.cside)}}function q(t,e){if(1&t){const t=_.Pb();_.Ob(0,"div",48),_.Ob(1,"ion-button",49),_.Wb("click",function(){return _.mc(t),_.Yb().changeStatus("rechazada")}),_.rc(2),_.Nb(),_.Ob(3,"ion-button",50),_.Wb("click",function(){return _.mc(t),_.Yb().changeStatus("aceptada")}),_.rc(4),_.Nb(),_.Nb()}if(2&t){const t=_.Yb();_.Ab(2),_.tc(" ",t.util.translate("Rechazar")," "),_.Ab(2),_.tc(" ",t.util.translate("Aceptar")," ")}}function E(t,e){if(1&t){const t=_.Pb();_.Ob(0,"div",51),_.Ob(1,"div",52),_.Ob(2,"ion-select",53),_.Wb("ngModelChange",function(e){return _.mc(t),_.Yb().changeStatusOrder=e}),_.Ob(3,"ion-select-option",54),_.rc(4),_.Nb(),_.Ob(5,"ion-select-option",55),_.rc(6),_.Nb(),_.Ob(7,"ion-select-option",56),_.rc(8),_.Nb(),_.Nb(),_.Nb(),_.Ob(9,"div"),_.Ob(10,"ion-button",57),_.Wb("click",function(){return _.mc(t),_.Yb().changeOrderStatus()}),_.rc(11),_.Nb(),_.Nb(),_.Nb()}if(2&t){const t=_.Yb();_.Ab(2),_.ec("ngModel",t.changeStatusOrder),_.Ab(2),_.sc(t.util.translate("En camino")),_.Ab(2),_.sc(t.util.translate("Cancelar")),_.Ab(2),_.sc(t.util.translate("Entregda")),_.Ab(3),_.tc(" ",t.util.translate("Actualizar estado")," ")}}function j(t,e){1&t&&(_.Ob(0,"ion-label",58),_.rc(1,"Orden entregada"),_.Nb())}function L(t,e){if(1&t&&(_.Ob(0,"ion-label",59),_.rc(1),_.Nb()),2&t){const t=_.Yb();_.Ab(1),_.sc(t.util.translate("Orden cancelada por el usuario"))}}const F=[{path:"",component:(()=>{class t{constructor(t,e,n,i,r,s,a,o){this.router=t,this.route=e,this.api=n,this.util=i,this.navCtrl=r,this.printer=s,this.modalController=a,this.iab=o,this.orders=[],this.rest={},this.drivers=[],this.dummyDriver=[],this.orderString=[],this.orderNotes="",this.loaded=!1,this.route.queryParams.subscribe(t=>{this.id=t.id,this.getOrder()})}ngOnInit(){}back(){this.util.publishNewAddress("hello"),this.navCtrl.back()}presentModal(){return Object(o.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:b.a,backdropDismiss:!1,showBackdrop:!0,componentProps:{item:this.dummyDriver}});t.onDidDismiss().then(t=>{if(t&&"selected"===t.role&&t.data&&t.data.length){const e={id:this.id,status:"accepted",did:t.data[0].id};this.util.show(this.util.translate("Por favor espere")),this.api.post("orders/editList",e).then(e=>{e&&200===e.status?this.api.post("drivers/edit_profile",{id:t.data[0].id,current:"busy"}).then(e=>{if(e&&200===e.status){this.util.hide(),this.api.sendNotification(this.util.translate("New Order Received "),this.util.translate("New Order"),t.data[0].fcm_token);const e=this.util.translate("Your Order is ")+"accepted"+this.util.translate(" By ")+this.restName;this.api.sendNotification(e,"Order accepted",this.token),h.a.fire({title:this.util.translate("success"),text:this.util.translate("Order status changed to ")+"accepted",icon:"success",timer:2e3,backdrop:!1,background:"white"}),this.util.publishOrder(),this.navCtrl.back()}else this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back()},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}):(this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back())},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))})}}),yield t.present()})}getDistanceFromLatLonInKm(t,e,n,i){return Object(o.a)(this,void 0,void 0,function*(){var r=this.deg2rad(n-t),s=this.deg2rad(i-e),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(n))*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371})}deg2rad(t){return t*(Math.PI/180)}getUserInfo(t){this.api.post("users/getById",{id:t}).then(t=>{if(t&&200===t.status&&t.data.length){const e=t.data[0];this.userName=e.first_name+" "+e.last_name,this.phone=e.mobile,this.token=e.fcm_token,this.userEmail=e.email,this.userPic=e.cover}},t=>{this.util.errorToast("Se ha presentado un error")}).catch(t=>{this.util.errorToast("Se ha presentado un error")})}getDriverInfo(){this.api.post("drivers/getById",{id:this.driverId}).then(t=>{if(t&&200===t.status&&t.data.length){const e=t.data[0];this.driverName=e.first_name+" "+e.last_name,this.driverMobile=e.mobile,this.driverCover=e.cover,this.driverFCM=e.fcm_token}},t=>{this.util.errorToast("Se ha presentado un error")}).catch(t=>{this.util.errorToast("Se ha presentado un error")})}getDrivers(){this.api.get("drivers").then(t=>{t&&200===t.status&&t.data.length&&t.data.filter(t=>"1"===t.status).forEach(t=>Object(o.a)(this,void 0,void 0,function*(){const e=yield this.getDistanceFromLatLonInKm(this.rest.lat,this.rest.lng,parseFloat(t.lat),parseFloat(t.lng));console.log(t.id,e),e<50&&(t.distance=e.toFixed(2),t.on=!0,this.drivers.push(t),this.dummyDriver.push(t))}))},t=>{this.util.errorToast("Se ha presentado un error")}).catch(t=>{this.util.errorToast("Se ha presentado un error")})}getOrder(){return Object(o.a)(this,void 0,void 0,function*(){this.api.post("orders/getById",{id:this.id}).then(t=>{if(this.loaded=!0,t&&200===t.status&&t.data.length){const e=t.data[0];if(this.grandTotal=e.grand_total,this.orders=JSON.parse(e.orders),this.serviceTax=e.serviceTax,this.status=e.status,this.time=g(e.time).format("llll"),this.total=e.total,this.paid=e.pay_method,this.orderNotes=e.notes,this.deliveryCharge=e.delivery_charge,e&&""!==e.did&&(this.driverId=e.did,this.getDriverInfo()),e&&e.address){const t=JSON.parse(e.address);this.deliveryAddress=t.house+" "+t.landmark+" "+t.address+t.pincode,this.userLat=t.lat,this.userLng=t.lng}this.getUserInfo(e.uid),this.getRestInfo(e.restId),this.restName=e.str_name,this.orders.forEach(t=>{if(t&&t.selectedItem&&t.selectedItem.length>0){let e="";t.selectedItem.forEach((n,i)=>{const r=[];e='<div style="border-bottom:1px dashed lightgray"> <p style="font-weight:bold"> '+t.name+" X "+t.selectedItem[i].total+"##ITEWS## </p></div>",n.item.forEach((t,e)=>{r.push('<div style="display:flex;flex-direction:row;justify-content:space-between"> <p style="font-weight:bold;color:gray;margin:0px;"> -'+t.name+'</p> <p style="font-weight:bold;color:gray;margin:0px;">'+this.getCurrency()+" "+t.value+"</p> </div> ")});const s=r.join(""),a=e.replace("##ITEWS##",s);this.orderString.push(a)})}else{const e='<div style="border-bottom:1px dashed lightgray;display:flex;flex-direction:row;justify-content:space-between"> <p style="font-weight:bold"> '+t.name+" X "+t.quantiy+' </p> <p style="font-weight:bold">'+t.price+this.getCurrency()+"</p> </div>";this.orderString.push(e)}})}},t=>{this.loaded=!0,this.util.errorToast("Se ha presentado un error")}).catch(t=>{this.loaded=!0,this.util.errorToast("Se ha presentado un error")})})}getRestInfo(t){this.api.post("users/getById",{id:t}).then(t=>{this.rest=t.data[0],this.getDrivers()},t=>{this.util.errorToast("Algo ha ido mal")}).catch(t=>{this.util.errorToast("Algo ha ido mal")})}goToTracker(){this.router.navigate(["/tracker"],{queryParams:{id:this.id}})}getCurrency(){return"$"}autoAssignment(){if(this.drivers&&this.drivers.length){const t=this.drivers.filter(t=>!0===t.on).reduce((t,e)=>t.distance<e.distance&&1==e.on?t:e);if(t&&t.id){const e={id:this.id,status:"aceptada",did:t.id};this.api.post("orders/getByDriverId",{id:t.id}).then(n=>{n.data.filter(t=>"aceptada"===t.status||"en camino"==t.status).length>=2?(this.drivers.filter(e=>{e.id==t.id&&(e.on=!1)}),this.autoAssignment()):(this.util.show(this.util.translate("Espere por favor")),this.asignarlo(e,t))})}else this.util.errorToast("No se encontraron Drivers cercanos, intenta nuevamente en un par de de minutos.")}else this.util.errorToast("No se encontro ningun repartidor activo")}asignarlo(t,e){this.api.post("orders/editList",t).then(t=>{t&&200===t.status?this.api.post("drivers/edit_profile",{id:e.id,current:"busy"}).then(t=>{if(t&&200===t.status){this.util.hide(),this.api.sendNotification(this.util.translate("Nueva orden recibida "),this.util.translate("Nueva orden"),e.fcm_token);const t=this.util.translate("Tu orden es ")+"aceptada"+this.util.translate(" por ")+this.restName;this.api.sendNotification(t,"Orden aceptada",this.token),h.a.fire({title:this.util.translate("success"),text:this.util.translate("El estado de la orden cambio ha ")+"aceptada.",icon:"success",timer:2e3,backdrop:!1,background:"white"}),this.util.publishOrder(),this.navCtrl.back()}else this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back()},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}):(this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back())},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))})}changeStatus(t){if("aceptada"===t)"0"===this.util.driver_assignments?this.presentModal():this.autoAssignment();else if("en camino"===t){const e={id:this.id,status:t};this.util.show(this.util.translate("Espere por favor")),this.api.post("orders/editList",e).then(e=>{if(this.util.hide(),e&&200===e.status){const e=this.util.translate("Your Order is ")+t+this.util.translate(" By ")+this.restName;this.api.sendNotification(e,"Order "+t,this.token),h.a.fire({title:this.util.translate("success"),text:this.util.translate("Order status changed to ")+t,icon:"success",timer:2e3,backdrop:!1,background:"white"}),this.util.publishOrder(),this.navCtrl.back()}else this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back()},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))})}else{const e={id:this.id,status:t,did:this.driverId};this.util.show(this.util.translate("Espere por favor")),this.api.post("orders/editList",e).then(e=>{e&&200===e.status?this.api.post("drivers/edit_profile",{id:this.driverId,current:"active"}).then(e=>{if(e&&200===e.status){this.util.hide(),this.api.sendNotification(this.util.translate("El estado de la orden cambio"),this.util.translate("El estado de la orden cambio"),this.driverFCM);const e=this.util.translate("Tu orden es ")+t+this.util.translate(" por ")+this.restName;this.api.sendNotification(e,"Orden "+t,this.token),h.a.fire({title:this.util.translate("success"),text:this.util.translate("El estado de la orden cambio a ")+t,icon:"success",timer:2e3,backdrop:!1,background:"white"}),this.util.publishOrder(),this.navCtrl.back()}else this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back()},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}):(this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error")),this.navCtrl.back())},t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))}).catch(t=>{this.util.hide(),this.util.errorToast(this.util.translate("Se ha presentado un error"))})}}changeOrderStatus(){this.changeStatusOrder&&this.changeStatus(this.changeStatusOrder)}call(){this.phone?this.iab.create("tel:"+this.phone,"_system"):this.util.errorToast(this.util.translate("Number not found"))}driverCall(){this.driverMobile?this.iab.create("tel:"+this.driverMobile,"_system"):this.util.errorToast(this.util.translate("Number not found"))}email(){this.userEmail?this.iab.create("mailto:"+this.userEmail,"_system"):this.util.errorToast(this.util.translate("Email not found"))}printOrder(){const t=this.orderString.join(""),e='<div style="padding: 20px;display: flex;flex-direction: column;"> <img src="assets/icon.png" style="text-align: center; height: 100px;width: 100px;" alt=""> <h2 style="text-align: center;">Foodies Order Summary</h2> <p style="float: left;"><b>'+this.id+'</b></p> <p style="float: left;"><b>'+this.restName+'</b></p> <p style="float: left;"><b>'+this.userName+'</b></p> <p style="float: left;">'+this.time+' </p> <p style="font-weight: bold;">'+this.util.translate("ITEMS")+"</p> "+t+' <p style="border-bottom: 1px solid black;"><span style="float: left;font-weight: bold;">'+this.util.translate("SubTotal")+'</span> <span style="float: right;font-weight: bold;">$'+this.total+'</span> <p style="border-bottom: 1px solid black;"><span style="float: left;font-weight: bold;">'+this.util.translate("Delivery Charge")+'</span> <span style="float: right;font-weight: bold;">$5</span> </p> <p style="border-bottom: 1px solid black;"><span style="float: left;font-weight: bold;">'+this.util.translate("Service Tax")+'</span> <span style="float: right;font-weight: bold;">$'+this.serviceTax+'</span> </p> <p style="border-bottom: 1px solid black;"><span style="float: left;font-weight: bold;">'+this.util.translate("Total")+'</span> <span style="float: right;font-weight: bold;">$'+this.grandTotal+'</span> </p> <h1 style="text-align: center;text-transform: uppercase;">'+this.paid+"</h1> </div>";this.printer.print(e,{name:"Foodie Order Summary",duplex:!1}).then(t=>{}).catch(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(_.Lb(a.g),_.Lb(a.a),_.Lb(c.a),_.Lb(l.a),_.Lb(s.cb),_.Lb(u.a),_.Lb(s.bb),_.Lb(p.a))},t.\u0275cmp=_.Fb({type:t,selectors:[["app-order-detail"]],decls:16,vars:8,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","color","light","mode","md","name","arrow-back-outline"],["style","display: flex;flex-direction: column;justify-content: center;align-items: center;",4,"ngIf"],["class","main_content_div",4,"ngIf"],["class","btn_div",4,"ngIf"],["class","status_div",4,"ngIf"],["class","green",4,"ngIf"],["class","red",4,"ngIf"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center"],["color","primary","name","crescent"],[1,"main_content_div"],[1,"card_div"],[1,"resto_detail"],[1,"back_image",3,"ngStyle"],[2,"margin-left","10px"],[1,"res_name"],[1,"res_location"],["color","primary",1,"ion-text-center"],["class","card_div2",4,"ngIf"],[1,"line_div"],[1,"card_div2"],[1,"personal_detail"],[2,"display","flex"],["name","location"],[4,"ngFor","ngForOf"],[1,"head_gray"],[1,"small_lbl"],[1,"order_detail"],[1,"small_lbl2"],["class","prize1",4,"ngIf"],["name","call"],["size","small","fill","outline",3,"click"],["name","mail"],["class","subNames",4,"ngFor","ngForOf"],["class","card_div4",4,"ngIf"],[1,"subNames"],[1,"food_title"],["class","flex_titles",4,"ngFor","ngForOf"],[1,"flex_titles"],[1,"sub_name"],["class","sub_name",4,"ngIf"],[1,"card_div4"],[1,"flex_div"],["class","food_price",4,"ngIf"],[1,"food_price"],[1,"prize1"],[1,"btn_div"],["size","small",1,"reject",3,"click"],["size","small",1,"accept",3,"click"],[1,"status_div"],[2,"width","200px"],["placeholder","Cambiar estado",3,"ngModel","ngModelChange"],["value","en camino"],["value","cancelada"],["value","entregada"],["size","small",3,"click"],[1,"green"],[1,"red"]],template:function(t,e){1&t&&(_.Ob(0,"ion-header"),_.Ob(1,"ion-toolbar",0),_.Ob(2,"ion-buttons",1),_.Ob(3,"ion-button",2),_.Wb("click",function(){return e.back()}),_.Mb(4,"ion-icon",3),_.Nb(),_.Nb(),_.Ob(5,"ion-title"),_.rc(6),_.Nb(),_.Nb(),_.Nb(),_.Ob(7,"ion-content"),_.qc(8,f,2,0,"div",4),_.qc(9,z,43,20,"div",5),_.Nb(),_.Ob(10,"ion-footer"),_.Ob(11,"ion-toolbar"),_.qc(12,q,5,2,"div",6),_.qc(13,E,12,5,"div",7),_.qc(14,j,2,0,"ion-label",8),_.qc(15,L,2,1,"ion-label",9),_.Nb(),_.Nb()),2&t&&(_.Ab(6),_.uc("",e.util.translate("\xf3rden")," # ",e.id," "),_.Ab(2),_.ec("ngIf",!e.loaded),_.Ab(1),_.ec("ngIf",e.loaded),_.Ab(3),_.ec("ngIf","creada"==e.status),_.Ab(1),_.ec("ngIf","aceptada"==e.status),_.Ab(1),_.ec("ngIf","entregada"==e.status),_.Ab(1),_.ec("ngIf","cancel"==e.status))},directives:[s.o,s.W,s.g,s.f,s.p,s.V,s.j,i.i,s.n,s.N,i.j,s.t,s.S,i.h,s.I,s.ib,r.i,r.l,s.J],styles:[".main_content_div[_ngcontent-%COMP%]{width:100%}.main_content_div[_ngcontent-%COMP%]   .line_div[_ngcontent-%COMP%]{height:1px;width:100%;background:#d3d3d3}.main_content_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{padding:20px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{height:50px;width:50px;background-position:50%;background-size:cover;background-repeat:no-repeat;border-radius:100%}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .res_name[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .res_location[_ngcontent-%COMP%]{color:gray;font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .order_id[_ngcontent-%COMP%]{position:absolute;right:5px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .order_id[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:right}.main_content_div[_ngcontent-%COMP%]   .orderId[_ngcontent-%COMP%]{padding:10px 20px;font-weight:600;font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div4[_ngcontent-%COMP%]{border-bottom:1px dashed #d3d3d3;padding:10px 20px}.main_content_div[_ngcontent-%COMP%]   .card_div4[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.main_content_div[_ngcontent-%COMP%]   .card_div4[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]   .food_title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.main_content_div[_ngcontent-%COMP%]   .card_div4[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]   .food_price[_ngcontent-%COMP%]{font-size:15px}.main_content_div[_ngcontent-%COMP%]   .card_div4[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]   .fav_lbl[_ngcontent-%COMP%]{color:red;font-size:12px;border:1px solid red;border-radius:25px;padding:2px 10px}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]{border-bottom:1px dashed #d3d3d3;padding:20px}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]   .food_title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]   .food_title[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{height:12px;width:12px}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]   .food_title[_ngcontent-%COMP%]   .rate_lbl[_ngcontent-%COMP%]{background:#b2d9b2;border:1px solid #7bdb7b;padding:3px 8px;border-radius:5px;font-size:14px;font-weight:600}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]   .flex_titles[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.main_content_div[_ngcontent-%COMP%]   .subNames[_ngcontent-%COMP%]   .flex_titles[_ngcontent-%COMP%]   .sub_name[_ngcontent-%COMP%]{margin:0;color:#000;font-size:12px}.main_content_div[_ngcontent-%COMP%]   .head_gray[_ngcontent-%COMP%]{color:#000;font-size:15px;font-weight:600;padding:0 15px}.main_content_div[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:12px;color:gray;margin-bottom:15px;padding:0 15px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]{padding:10px 20px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-primary)}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:3px;font-weight:600}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   .res_name[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .head_gray[_ngcontent-%COMP%]{color:gray;font-size:13px;margin-top:10px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%], .main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .prize1[_ngcontent-%COMP%]{position:absolute;right:35px;font-weight:600!important;color:#000}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .prize1[_ngcontent-%COMP%]{font-size:16px;margin-top:10px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .small_lbl2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-top:10px}.btn_div[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-weight:600;--border-radius:5px;width:130px}.btn_div[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{--background:green}.status_div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:20px;padding-right:20px;align-items:center}.status_div[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;--padding-top:3px;--padding-bottom:3px;width:100%}.status_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-weight:600;--border-radius:5px}.green[_ngcontent-%COMP%]{color:green}.green[_ngcontent-%COMP%], .red[_ngcontent-%COMP%]{display:block;text-align:center;font-weight:600}.red[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),t})()}];let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Jb({type:t}),t.\u0275inj=_.Ib({imports:[[a.i.forChild(F)],a.i]}),t})();var $=n("PCNd");let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Jb({type:t}),t.\u0275inj=_.Ib({imports:[[i.b,r.e,s.X,$.a,D]]}),t})()}}]);