(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{vUrZ:function(t,n,o){"use strict";o.r(n),o.d(n,"FoodsPageModule",function(){return _});var e=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),a=o("tyNb"),s=o("8RPc"),r=o("2Rin"),l=o("fXoL");function d(t,n){if(1&t&&(l.Ob(0,"h2",14),l.rc(1),l.Nb()),2&t){const t=l.Yb();l.Ab(1),l.sc(t.util.translate("No existen productos"))}}function g(t,n){1&t&&(l.Ob(0,"ion-item"),l.Ob(1,"ion-thumbnail",1),l.Mb(2,"ion-skeleton-text",15),l.Nb(),l.Ob(3,"ion-label"),l.Ob(4,"h3"),l.Mb(5,"ion-skeleton-text",16),l.Nb(),l.Ob(6,"p"),l.Mb(7,"ion-skeleton-text",17),l.Nb(),l.Ob(8,"p"),l.Mb(9,"ion-skeleton-text",18),l.Nb(),l.Nb(),l.Nb())}function b(t,n){if(1&t&&(l.Ob(0,"ion-segment-button",19),l.Ob(1,"ion-label"),l.rc(2),l.Nb(),l.Nb()),2&t){const t=n.$implicit;l.ec("value",t.id),l.Ab(2),l.tc(" ",t.name," ")}}function u(t,n){if(1&t&&(l.Ob(0,"ion-label",27),l.rc(1),l.Nb()),2&t){const t=l.Yb(2);l.Ab(1),l.sc(t.util.translate("Veg"))}}function h(t,n){if(1&t&&(l.Ob(0,"ion-label",28),l.rc(1),l.Nb()),2&t){const t=l.Yb(2);l.Ab(1),l.sc(t.util.translate("Non Veg"))}}const m=function(t){return{"background-image":t}};function p(t,n){if(1&t){const t=l.Pb();l.Ob(0,"div"),l.Ob(1,"span",20),l.Wb("click",function(){l.mc(t);const o=n.$implicit;return l.Yb().foodsInfo(o)}),l.Mb(2,"div",21),l.Ob(3,"div",22),l.Ob(4,"ion-label",23),l.rc(5),l.Nb(),l.Ob(6,"ion-label",24),l.rc(7),l.Zb(8,"slice"),l.Nb(),l.qc(9,u,2,1,"ion-label",25),l.qc(10,h,2,1,"ion-label",26),l.Ob(11,"ion-label",23),l.rc(12),l.Nb(),l.Nb(),l.Nb(),l.Nb()}if(2&t){const t=n.$implicit,o=l.Yb();l.Ab(2),l.ec("ngStyle",l.jc(10,m,"url("+o.api.mediaURL+t.cover+"),url(assets/placeholder.jpg)")),l.Ab(3),l.sc(t.name),l.Ab(2),l.tc(" ",t.details.length>50?l.bc(8,6,t.details,0,50)+"..":t.details," "),l.Ab(2),l.ec("ngIf","1"===t.veg),l.Ab(1),l.ec("ngIf","0"===t.veg),l.Ab(2),l.tc(" ",t.price,"")}}const f=[{path:"",component:(()=>{class t{constructor(t,n,o){this.router=t,this.api=n,this.util=o,this.foods=[],this.dummy=Array(10),this.categories=[]}ngOnInit(){}category(){const t={id:localStorage.getItem("uid")};this.api.post("categories/getByRestId",t).then(t=>{t&&200===t.status&&t.data.length?(this.categories=t.data,this.caetId=this.categories[0].id,this.getFoodByCid()):this.dummy=[]},t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))})}ionViewWillEnter(){this.category()}segmentChanged(){this.foods=[],this.dummy=Array(10),this.getFoodByCid()}getFoods(){const t={id:localStorage.getItem("uid"),limit:5e3};this.api.post("products/getByStoreId",t).then(t=>{this.dummy=[],console.log(t),console.log(t&&200===t.status&&t.data.length>0),t&&200===t.status&&t.data.length>0&&(this.foods=t.data)},t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))})}getFoodByCid(){const t={id:localStorage.getItem("uid"),cid:this.caetId};this.api.post("products/getFoodByCid",t).then(t=>{this.dummy=[],console.log(t),console.log(t&&200===t.status&&t.data.length>0),t&&200===t.status&&t.data.length>0&&(this.foods=t.data)},t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))})}addnew(){this.router.navigate(["/add-new-foods"])}foodsInfo(t){console.log(t),this.router.navigate(["add-new-foods"],{queryParams:{id:t.id}})}search(t){console.log(t);const n={search:t,id:localStorage.getItem("uid")};this.foods=[],this.dummy=Array(10),this.api.post("products/getSearchItems",n).then(t=>{console.log(t),this.dummy=[],t&&200===t.status&&t.data.length>0&&(this.foods=t.data)},t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.dummy=[],this.util.errorToast(this.util.translate("Something went wrong"))})}onSearchChange(t){t.detail.value||this.category()}}return t.\u0275fac=function(n){return new(n||t)(l.Lb(a.g),l.Lb(s.a),l.Lb(r.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-foods"]],decls:19,vars:9,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end","fill","clear","color","light",3,"click"],["slot","icon-only","name","add"],[1,"ion-padding"],[1,"mainContent"],["inputmode","text","type","search","mode","ios","showCancelButton","never",3,"placeholder","ngModel","debounce","ngModelChange","keyup.enter","ionChange"],["q",""],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["scrollable","true","mode","md",3,"ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-center"],["animated",""],["animated","",2,"width","50%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],[3,"value"],[1,"card_div",3,"click"],[1,"back_image",3,"ngStyle"],[1,"content_div"],[1,"title"],[1,"small"],["class","veg",4,"ngIf"],["class","nonVeg",4,"ngIf"],[1,"veg"],[1,"nonVeg"]],template:function(t,n){if(1&t){const t=l.Pb();l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar",0),l.Ob(2,"ion-buttons",1),l.Ob(3,"ion-button",2),l.Wb("click",function(){return n.util.back()}),l.Mb(4,"ion-icon",3),l.Nb(),l.Nb(),l.Ob(5,"ion-title"),l.rc(6),l.Nb(),l.Ob(7,"ion-button",4),l.Wb("click",function(){return n.addnew()}),l.Mb(8,"ion-icon",5),l.Nb(),l.Nb(),l.Nb(),l.Ob(9,"ion-content",6),l.Ob(10,"div",7),l.Ob(11,"ion-searchbar",8,9),l.Wb("ngModelChange",function(t){return n.terms=t})("keyup.enter",function(){l.mc(t);const o=l.lc(12);return n.search(o.value)})("ionChange",function(t){return n.onSearchChange(t)}),l.Nb(),l.qc(13,d,2,1,"h2",10),l.qc(14,g,10,0,"ion-item",11),l.Ob(15,"div"),l.Ob(16,"ion-segment",12),l.Wb("ionChange",function(){return n.segmentChanged()})("ngModelChange",function(t){return n.caetId=t}),l.qc(17,b,3,2,"ion-segment-button",13),l.Nb(),l.Nb(),l.qc(18,p,13,12,"div",11),l.Nb(),l.Nb()}2&t&&(l.Ab(6),l.sc(n.util.translate("Productos")),l.Ab(5),l.ec("placeholder",n.util.translate("Buscar productos"))("ngModel",n.terms)("debounce",250),l.Ab(2),l.ec("ngIf",!(null!=n.dummy&&n.dummy.length||null!=n.categories&&n.categories.length)),l.Ab(1),l.ec("ngForOf",n.dummy),l.Ab(2),l.ec("ngModel",n.caetId),l.Ab(1),l.ec("ngForOf",n.categories),l.Ab(1),l.ec("ngForOf",n.foods))},directives:[c.o,c.W,c.g,c.f,c.p,c.V,c.j,c.F,c.jb,i.i,i.l,e.i,e.h,c.G,c.ib,c.r,c.U,c.K,c.t,c.H,e.j],pipes:[e.m],styles:[".mainContent[_ngcontent-%COMP%]   .head_lbl[_ngcontent-%COMP%]{font-weight:600;font-size:20px;display:block;margin-bottom:10px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:0 3px 6px rgba(0,0,0,.2);border-radius:5px;padding:15px;margin-bottom:15px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]{padding-left:20px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:gray;font-size:14px}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{color:green}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .nonVeg[_ngcontent-%COMP%]{color:red}.mainContent[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   .lonveg[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({imports:[[a.i.forChild(f)],a.i]}),t})();var C=o("PCNd");let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({imports:[[e.b,i.e,c.X,C.a,O]]}),t})()}}]);